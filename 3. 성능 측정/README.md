## 성능 측정

### 교차 검증을 이용한 정확도 측정

보통의 경우에는 교차 검증은 모델을 평가하는데 큰 문제가 없는 좋은 방법이다.

하지만 mnist데이터를 정확도로 측정할 경우 데이터에서 특정 숫자인지 아닌지 측정을 한다면 숫자가 0부터 9까지 10종류가 골고루 있기 때문에 전부 아니라고 답을 해도 정확도가 90프로가 나오게 된다.

따라서 이렇게 불균형한 데이터 셋을 다룰때는 정확도를 성능측정 지표로 사용해서는 안된다.

### 오차행렬을 사용한 성능 측정

 오차 행렬의 행에는 실제 값이 맞는지 틀리는지를 표기하고, 열에는 예측한 값이 맞는지 표기하는 행렬이다. 따라서 데이터와 그의 예측에 따른 클래스를 구분하여 표기할 수 있다.

이때 맞다는 것을 맞다고 분류한 것을 진짜 양성(TP), 맞는것을 틀리다고 분류하면 거짓 음성(FN), 틀린것을 맞다고 분류한 것을 거짓 양성(FP), 틀린것을 틀리다고 분류한 것을 진짜 음성(TN)이라 한다.

 - 정밀도 : 맞다고 분류한것중에 진짜로 맞은 비율 $TP \over {TP + FP}$

 - 재현율 : 진짜로 맞는것중에서 맞다고 분류한 비율 $TP \over {TP + FN}$

 - 특이도(TNR) : 틀린것을 틀리다고 분류한 비율 $TN \over {FP + TN}$

 - F1점수 : 정밀도와 재현율의 조화평균 $F_1 = {2 \over {{1 \over 정밀도} + {1 \over 재현율}}}$

F1점수를 사용하는 이유는 재현율과 정밀도모두 다 높은 것을 선택하면 좋겠지만 둘 사이는 정밀도 재현율 트레이드오프 때문에 한쪽을 올리면 나머지는 떨어질수밖에 없다. <br>
따라서 상황에 따라서 재현율과 정밀도 어느쪽을 더 중시할지 선택해야한다.

 - ROC곡선 : 수신기 조작 특성(ROC)곡선은 거짓 양성 비율($FP \over {FP + TN}$ : 실제로 가짜인데 진짜라고 한 비율)에 대한 진짜 양성 비율(재현율)의 곡선이다.    여기서 거짓 양성 비율 = 1 - TNR이다

### 다중 분류

둘 이상의 클래스를 구별하는 것이다.

여러 클래스를 sgd, 랜덤포레스트, 나이브베이즈와 같은 분류기를 사용하면 직접 처리할 수 있지만, 로지스틱 회귀나 SVM과 같은 이진분류기를 각각의 클래스를 구분하는 분류기를 클래스의 숫자만큼 훈려시켜서 OvR(one nersus the rest) 전략을 통해 구분할수도있다.

혹은 모든 클래스의 조합끼리 1대1로 분류하는 OvO전략을 사용할 수도 있는데 이는 ${n * (n - 1)} \over 2$번의 훈련횟수가 필요하다

### 다중 레이블 분류

샘플이 하나의 클래스에만 할당된 경우도 있지만, 일반적인 경우 분류기가 샘플마다 여러 개의 클래스를 출력해야 하는 경우가 있다.

대표적인 예시로 사진에서 사물을 분류할 때 사진속에 사과, 배, 딸기가 있다면 각각 인식된 사물마다 하나씩 tag를 표시하는 것이 있다.


